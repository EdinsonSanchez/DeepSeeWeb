<div ng-cloak>
    <div gridster>
        <ul>
            <li class="panel panel-default widget-holder noselect" gridster-item="item" ng-repeat="item in model.items">
                <div class="panel-heading widget-title">
                    <div class="widget-title-btn-left" ng-show="item.backButton" ng-click="item.drillUp()">
                        <i class="fa fa-chevron-left">&nbsp;{{'back' | lang}}</i>
                    </div>
                    <div class="widget-title-btn" ng-show="item.isChart" ng-click="item.displayAsPivot()" ng-class="item.pivotMdx ? 'active' : ''" title="{{'showPivot' | lang}}"><i class="fa fa-table"></i></div>
                    <div class="widget-title-btn" ng-show="item.isChart" ng-click="item.toggleLegend()" ng-class="item.isLegend ? '' : 'notActive'" title="{{'showLegend' | lang}}"><i class="fa fa-info"></i></div>
                    <div class="widget-title-drag"><span>{{item.title}}</span></div>
                </div>
                <widget class="widget" ng-controller="widget"></widget>
            </li>
        </ul>
    </div>

    <div class="dropdown position-fixed" id="ctx-item-menu">
        <ul class="dropdown-menu" role="menu">
            <li>
                <a class="pointer" role="menuitem" tabindex="1" ng-click="refreshItem()">
                    {{'refresh' | lang}}
                </a>
            </li>
            <li>
                <a class="pointer" role="menuitem" tabindex="2" ng-click="printItem()">
                    {{'print' | lang}}
                </a>
            </li>
            <li role="presentation" class="divider"></li>
            <li class="dropdown-submenu">
                <a tabindex="-1">{{'viewAs' | lang}}</a>
                <ul class="dropdown-menu">
                    <li><a tabindex="-1" ng-click="setType('areachart')">Area chart</a></li>
                    <li><a ng-click="setType('barchart')">Bar chart</a></li>
                    <li><a ng-click="setType('columnchart')">Column chart</a></li>
                    <li><a ng-click="setType('linechart')">Line chart</a></li>
                    <li><a ng-click="setType('piechart')">Pie chart</a></li>
                </ul>
            </li>
        </ul>
    </div>
</div>